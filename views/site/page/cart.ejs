<% include ../layout/header.ejs %>
<!-- Header End -->

<div id="maincontainer">
  <section id="product">
    <div class="container">
     <!--  breadcrumb --> 
      <ul class="breadcrumb">
        <li>
          <a href="#">Home</a>
          <span class="divider">/</span>
        </li>
        <li class="active"> Shopping Cart</li>
      </ul>       
      <h1 class="heading1"><span class="maintext"> Shopping Cart</span><span class="subtext"> All items in your  Shopping Cart</span></h1>
      <!-- Cart-->
      <div class="cart-info">
        <table class="table table-striped table-bordered">
          <tr>
            <th class="image">Image</th>
            <th class="name">Product Name</th>
            <th class="quantity">Số Lượng</th>
              <th class="total">Action</th>
            <th class="price">Giá</th>
            <th class="total">Tiền</th>
           
          </tr>
          <% var total = 0; if(data){ data.forEach(function(item){ total += item.tien %>
          <tr>
            <td class="image"><a href="/chi-tiet/<%= item.item.nameKhongDau%>.<%= item.item._id%>.<%= item.item.cateId%>.html"><img title="product" alt="product" src="upload/<%= item.item.img%>" height="50" width="50"></a></td>
            <td  class="name"><a href="/chi-tiet/<%= item.item.nameKhongDau%>.<%= item.item._id%>.<%= item.item.cateId%>.html"><%= item.item.name%></a></td>
            <td class="quantity"><input id="<%= item.item._id%>" type="text" size="1" value="<%= item.soluong%>" name="quantity[40]" class="span1">
             
             </td>
             <td class="total"> <a href="#"><img  class="tooltip-test updateCart" id="<%= item.item._id%>" data-original-title="Update" src="img/update.png" alt=""></a>
              <a href="#"><img class="tooltip-test delCart" id="<%= item.item._id%>" data-original-title="Remove"  src="img/remove.png" alt=""></a></td>
    
            <td class="price"><%= item.item.price%> đ</td>
            <td class="total"><%= item.tien%> đ</td>
             
          </tr>
          <%})}%>

        </table>
      </div>
      <div class="container">
      <div class="pull-right">
          <div class="span4 pull-right">
            <table class="table table-striped table-bordered ">
              
                <td><span class="extra bold totalamout">Total :</span></td>
                <td><span class="bold totalamout"><%= total%> đ</span></td>
              </tr>
            </table>
            <!-- <a href="/dat-hang.html" class="btn btn-orange pull-right">Đặt Hàng</a> -->
            <a href="javascript:void(0);" class="btn btn-orange pull-right" onclick="openConfirmationModal()">Đặt Hàng</a>

          </div>
        </div>
        </div>
    </div>
  </section>
</div>

<!-- Modal (Pop-up xác nhận) -->
<div id="confirmationModal" class="modal" tabindex="-1" role="dialog" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Xác Nhận Đặt Hàng</h4>
      </div>
      <div class="modal-body">
        <p>Bạn có chắc chắn muốn đặt hàng không?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Hủy</button>
        <a href="/dat-hang.html" id="confirmOrder" class="btn btn-orange">Xác Nhận</a>
      </div>
    </div>
  </div>
</div>


<script type="text/javascript">
  // Đảm bảo modal không hiển thị ngay khi trang tải
  $(document).ready(function() {
    $('#confirmationModal').modal('hide'); // Ẩn modal khi trang tải xong
  });

  function openConfirmationModal() {
    // Mở modal khi người dùng nhấn Đặt Hàng
    $('#confirmationModal').modal('show');
  }

  // Nếu bạn sử dụng jQuery, việc này đảm bảo rằng sự kiện sẽ chỉ được gọi khi người dùng nhấn vào nút
</script>


<!-- Footer -->
<% include ../layout/footer.ejs %>